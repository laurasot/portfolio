---
import styles from './Projects.module.css';

interface Tag {
    name: string;
    highlighted?: boolean;
}

interface Project {
    id: number;
    title: string;
    description: string;
    category: 'Música' | 'AI' | 'Híbrido' | 'En desarrollo';
    icon: string;
    tags: Tag[];
    link?: string;
}

const projects: Project[] = [
    {
        id: 1,
        title: 'Generación Musical con IA',
        description:
            'Sistema de deep learning para generar composiciones musicales originales basadas en análisis de patrones armónicos y melódicos.',
        category: 'En desarrollo',
        icon: '',
        tags: [
            { name: 'TensorFlow' },
            { name: 'MIDI' },
            { name: 'RNN', highlighted: true },
            { name: 'Composition' }
        ],
    },
    {
        id: 2,
        title: 'MUSIC UNDER THE HOOD',
        description:
            'Motor de análisis musical basado en procesamiento de señal y machine learning que estudia tempo, ritmo, timbre, armonía y progresiones musicales para inferir géneros, influencias estilísticas y descriptores musicales avanzados.',
        category: 'En desarrollo',
        icon: '',
        link: 'https://github.com/laurasot/music-intelligence-backend/tree/develop',
        tags: [
            { name: 'Python', highlighted: true },
            { name: 'Librosa', highlighted: true },
            { name: 'Machine Learning' },
            { name: 'Music Theory' },
            { name: 'Audio Processing' }
        ],
    },
    {
        id: 3,
        title: 'Interpretaciones de Cueca',
        description:
            'Interpretaciones personales de cuecas experimentales del compositor Patricio Fuentes, explorando texturas rítmicas no convencionales, giros armónicos y un enfoque expresivo contemporáneo.',
        category: 'Música',
        icon: '',
        tags: [
            { name: 'Piano', highlighted: true },
            { name: 'Cueca' },
            { name: 'Folclor' },
            { name: 'Performance' }
        ],
    },        
    {
        id: 4,
        title: 'Computer Vision para Partituras',
        description:
            'Sistema de reconocimiento óptico de partituras musicales usando redes neuronales convolucionales.',
        category: 'En desarrollo',
        icon: '',
        tags: [
            { name: 'Computer Vision', highlighted: true },
            { name: 'CNN' },
            { name: 'OCR' },
            { name: 'Music Notation' }
        ],
    },
];
---

<section class={styles.projectsContainer} id="proyectos">
    <div class={styles.grainTexture} />
    <div class={styles.projectsContent}>
        <div class={styles.sectionHeader}>
            <h2 class={styles.sectionTitle}>Proyectos</h2>
            <p class={styles.sectionSubtitle}>
                Exploraciones en la frontera entre música y tecnología
            </p>
        </div>

        <div class={styles.projectsGrid}>
            {projects.map((project, index) => {
                const indexStr = `0${index + 1}`;
                return (
                    <article
                        class={styles.projectCard}
                        data-index={indexStr}
                        style={`--index: ${index}`}
                    >
                        <span class={styles.projectCategory}>
                            {project.category}
                        </span>

                        <h3 class={styles.projectTitle}>{project.title}</h3>
                        <p class={styles.projectDescription}>
                            {project.description}
                        </p>

                        <div class={styles.projectTags}>
                            {project.tags.map((tag) => (
                                <span 
                                    class={`${styles.projectTag} ${tag.highlighted ? styles.highlighted : ''}`}
                                >
                                    {tag.name}
                                </span>
                            ))}
                        </div>

                        {project.link && (
                            <a
                                href={project.link}
                                class={styles.projectLink}
                                target="_blank"
                                rel="noopener noreferrer"
                            >
                                Ver proyecto
                                <span class={styles.linkArrow}>→</span>
                            </a>
                        )}
                    </article>
                );
            })}
        </div>
    </div>
</section>

